<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: graphname Pages: 1 -->
<svg width="890pt" height="1504pt"
 viewBox="0.00 0.00 890.00 1503.54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1499.5366)">
<title>graphname</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1499.5366 886,-1499.5366 886,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_0</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="27,-1387.9053 27,-1487.5366 639,-1487.5366 639,-1387.9053 27,-1387.9053"/>
<text text-anchor="middle" x="57.7479" y="-1470.9366" font-family="Times,serif" font-size="14.00" fill="#000000">main.py</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_1</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="68,-577.0526 68,-1353.1053 598,-1353.1053 598,-577.0526 68,-577.0526"/>
<text text-anchor="middle" x="187.4064" y="-1336.5053" font-family="Times,serif" font-size="14.00" fill="#000000">tvm/python/tvm/relay/frontend/onnx.py</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_2</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="126,-269.2313 126,-542.2526 874,-542.2526 874,-269.2313 126,-269.2313"/>
<text text-anchor="middle" x="210.7872" y="-525.6526" font-family="Times,serif" font-size="14.00" fill="#000000">/relay/frontend/common.py</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_3</title>
<polygon fill="#d3d3d3" stroke="#d3d3d3" points="8,-8 8,-234.4313 508,-234.4313 508,-8 8,-8"/>
<text text-anchor="middle" x="67.5214" y="-217.8313" font-family="Times,serif" font-size="14.00" fill="#000000">/relay/op/nn/nn.py</text>
</g>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="333" cy="-1425.3209" rx="298.3199" ry="29.3315"/>
<text text-anchor="middle" x="333" y="-1429.5209" font-family="Times,serif" font-size="14.00" fill="#000000">import tvm.relay as relay&#13;</text>
<text text-anchor="middle" x="333" y="-1412.7209" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mod, params = relay.frontend.from_onnx(onnx_model, shape_dict)</text>
</g>
<!-- onnx0 -->
<g id="node2" class="node">
<title>onnx0</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="333" cy="-1279.0102" rx="219.9802" ry="41.0911"/>
<text text-anchor="middle" x="333" y="-1291.6102" font-family="Times,serif" font-size="14.00" fill="#000000">from .. import op as _op &#13;</text>
<text text-anchor="middle" x="333" y="-1274.8102" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;GraphProto.from_onnx()&#13;</text>
<text text-anchor="middle" x="333" y="-1258.0102" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;// Return of from_onnx(): (tvm.IRModule, dict)</text>
</g>
<!-- main&#45;&gt;onnx0 -->
<g id="edge1" class="edge">
<title>main&#45;&gt;onnx0</title>
<path fill="none" stroke="#000000" d="M333,-1395.7128C333,-1377.0428 333,-1352.4233 333,-1330.611"/>
<polygon fill="#000000" stroke="#000000" points="336.5001,-1330.4937 333,-1320.4937 329.5001,-1330.4938 336.5001,-1330.4937"/>
<text text-anchor="middle" x="352.0526" y="-1365.3053" font-family="Times,serif" font-size="14.00" fill="#000000">invoke</text>
</g>
<!-- onnx1 -->
<g id="node3" class="node">
<title>onnx1</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="333" cy="-1100.6996" rx="257.3473" ry="29.3315"/>
<text text-anchor="middle" x="333" y="-1104.8996" font-family="Times,serif" font-size="14.00" fill="#000000">// Type of op: (tvm.relay.function.Function)&#13;</text>
<text text-anchor="middle" x="333" y="-1088.0996" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;op = GraphProto._convert_operator(op_name, inputs, ...)</text>
</g>
<!-- onnx0&#45;&gt;onnx1 -->
<g id="edge2" class="edge">
<title>onnx0&#45;&gt;onnx1</title>
<path fill="none" stroke="#000000" d="M333,-1237.654C333,-1208.3331 333,-1169.2194 333,-1140.3002"/>
<polygon fill="#000000" stroke="#000000" points="336.5001,-1140.1439 333,-1130.1439 329.5001,-1140.144 336.5001,-1140.1439"/>
<text text-anchor="middle" x="438.1561" y="-1188.1152" font-family="Times,serif" font-size="14.00" fill="#000000">The return is a package of many ops &#13;</text>
<text text-anchor="middle" x="438.1561" y="-1171.3152" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;(i.e., IRModule)</text>
</g>
<!-- onnx2 -->
<g id="node4" class="node">
<title>onnx2</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="311" cy="-962.4839" rx="109.9363" ry="18"/>
<text text-anchor="middle" x="311" y="-958.2839" font-family="Times,serif" font-size="14.00" fill="#000000">_get_convert_map(opset)</text>
</g>
<!-- onnx1&#45;&gt;onnx2 -->
<g id="edge3" class="edge">
<title>onnx1&#45;&gt;onnx2</title>
<path fill="none" stroke="#000000" d="M328.2804,-1071.0488C324.4922,-1047.2489 319.2093,-1014.0594 315.4847,-990.6591"/>
<polygon fill="#000000" stroke="#000000" points="318.9225,-989.9908 313.894,-980.6653 312.0095,-991.0912 318.9225,-989.9908"/>
<text text-anchor="middle" x="390.425" y="-1021.6839" font-family="Times,serif" font-size="14.00" fill="#000000">invoke: need conversion</text>
</g>
<!-- onnx3 -->
<g id="node8" class="node">
<title>onnx3</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="500" cy="-306.6469" rx="365.9183" ry="29.3315"/>
<text text-anchor="middle" x="500" y="-310.8469" font-family="Times,serif" font-size="14.00" fill="#000000">get_relay_op(op_name)&#13;</text>
<text text-anchor="middle" x="500" y="-294.0469" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;// Return the relay function (tvm.relay.function.Function) based on op_name (string)</text>
</g>
<!-- onnx1&#45;&gt;onnx3 -->
<g id="edge8" class="edge">
<title>onnx1&#45;&gt;onnx3</title>
<path fill="none" stroke="#000000" d="M518.7209,-1080.2916C572.9771,-1069.0656 618,-1051.9093 618,-1025.8839 618,-1025.8839 618,-1025.8839 618,-381.4626 618,-364.7898 609.4935,-351.6768 597.0484,-341.4138"/>
<polygon fill="#000000" stroke="#000000" points="598.9647,-338.4788 588.8315,-335.3856 594.8241,-344.1229 598.9647,-338.4788"/>
<text text-anchor="middle" x="733.2711" y="-753.4839" font-family="Times,serif" font-size="14.00" fill="#000000">invoke: for compatible operators &#13;</text>
<text text-anchor="middle" x="733.2711" y="-736.6839" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;that do NOT require any conversion</text>
</g>
<!-- onnx4 -->
<g id="node5" class="node">
<title>onnx4</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="291" cy="-802.0839" rx="114.0505" ry="18"/>
<text text-anchor="middle" x="291" y="-797.8839" font-family="Times,serif" font-size="14.00" fill="#000000">Conv.get_converter(opset)</text>
</g>
<!-- onnx2&#45;&gt;onnx4 -->
<g id="edge4" class="edge">
<title>onnx2&#45;&gt;onnx4</title>
<path fill="none" stroke="#000000" d="M308.7446,-944.3958C305.2936,-916.7185 298.6718,-863.612 294.5657,-830.6807"/>
<polygon fill="#000000" stroke="#000000" points="297.9883,-829.8421 293.2778,-820.352 291.0421,-830.7083 297.9883,-829.8421"/>
<text text-anchor="middle" x="452.8868" y="-894.8839" font-family="Times,serif" font-size="14.00" fill="#000000">Return a dictionary&#13;</text>
<text text-anchor="middle" x="452.8868" y="-878.0839" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;One of the item values is the following function&#13;</text>
<text text-anchor="middle" x="452.8868" y="-861.2839" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
</g>
<!-- onnx4_1 -->
<g id="node6" class="node">
<title>onnx4_1</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="295" cy="-614.4683" rx="218.7569" ry="29.3315"/>
<text text-anchor="middle" x="295" y="-618.6683" font-family="Times,serif" font-size="14.00" fill="#000000">Conv._impl_v1()&#13;</text>
<text text-anchor="middle" x="295" y="-601.8683" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;// Return the computed results (tvm.relay.Expr)</text>
</g>
<!-- onnx4&#45;&gt;onnx4_1 -->
<g id="edge5" class="edge">
<title>onnx4&#45;&gt;onnx4_1</title>
<path fill="none" stroke="#000000" d="M291.3908,-783.7529C292.0278,-753.8746 293.3042,-694.0077 294.1555,-654.0796"/>
<polygon fill="#000000" stroke="#000000" points="297.6587,-653.9611 294.3727,-643.8888 290.6603,-653.8119 297.6587,-653.9611"/>
<text text-anchor="middle" x="441.113" y="-701.8839" font-family="Times,serif" font-size="14.00" fill="#000000">Need first define the class Conv(OnnxOpConverter)&#13;</text>
<text text-anchor="middle" x="441.113" y="-685.0839" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;by implementing Conv._impl_v1()</text>
</g>
<!-- onnx5 -->
<g id="node7" class="node">
<title>onnx5</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="362" cy="-468.1576" rx="227.9145" ry="41.0911"/>
<text text-anchor="middle" x="362" y="-480.7576" font-family="Times,serif" font-size="14.00" fill="#000000">class AttrCvt(object)&#13;</text>
<text text-anchor="middle" x="362" y="-463.9576" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;// Turn op attributes from ONNX to TVM Relay.&#13;</text>
<text text-anchor="middle" x="362" y="-447.1576" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;// Changed some names. </text>
</g>
<!-- onnx4_1&#45;&gt;onnx5 -->
<g id="edge6" class="edge">
<title>onnx4_1&#45;&gt;onnx5</title>
<path fill="none" stroke="#000000" d="M308.5584,-584.8601C317.2575,-565.8637 328.7771,-540.7078 338.8933,-518.6167"/>
<polygon fill="#000000" stroke="#000000" points="342.1492,-519.9129 343.1306,-509.3636 335.7848,-516.9984 342.1492,-519.9129"/>
<text text-anchor="middle" x="421.5267" y="-554.4526" font-family="Times,serif" font-size="14.00" fill="#000000">invoke: if need attribute conversion</text>
</g>
<!-- onnx7 -->
<g id="node9" class="node">
<title>onnx7</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="116" cy="-183.6313" rx="75.8701" ry="18"/>
<text text-anchor="middle" x="116" y="-179.4313" font-family="Times,serif" font-size="14.00" fill="#000000">op.nn.bias_add()</text>
</g>
<!-- onnx4_1&#45;&gt;onnx7 -->
<g id="edge10" class="edge">
<title>onnx4_1&#45;&gt;onnx7</title>
<path fill="none" stroke="#000000" d="M196.3096,-588.1586C139.7897,-566.4639 80,-529.1094 80,-468.1576 80,-468.1576 80,-468.1576 80,-306.6469 80,-272.8116 92.6999,-235.7724 103.0135,-211.2714"/>
<polygon fill="#000000" stroke="#000000" points="106.3113,-212.4649 107.1011,-201.8995 99.8951,-209.6663 106.3113,-212.4649"/>
<text text-anchor="middle" x="99.0526" y="-377.2626" font-family="Times,serif" font-size="14.00" fill="#000000">invoke</text>
</g>
<!-- onnx5&#45;&gt;onnx3 -->
<g id="edge7" class="edge">
<title>onnx5&#45;&gt;onnx3</title>
<path fill="none" stroke="#000000" d="M397.1803,-426.9837C419.0856,-401.3465 447.0326,-368.6382 468.2596,-343.7948"/>
<polygon fill="#000000" stroke="#000000" points="471.0641,-345.9005 474.8992,-336.0241 465.7422,-341.3532 471.0641,-345.9005"/>
<text text-anchor="middle" x="461.0526" y="-377.2626" font-family="Times,serif" font-size="14.00" fill="#000000">invoke</text>
</g>
<!-- onnx9 -->
<g id="node11" class="node">
<title>onnx9</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="429" cy="-183.6313" rx="70.0751" ry="18"/>
<text text-anchor="middle" x="429" y="-179.4313" font-family="Times,serif" font-size="14.00" fill="#000000">op.nn.conv2d()</text>
</g>
<!-- onnx3&#45;&gt;onnx9 -->
<g id="edge11" class="edge">
<title>onnx3&#45;&gt;onnx9</title>
<path fill="none" stroke="#000000" d="M482.9937,-277.1816C471.2356,-256.8093 455.7221,-229.9305 444.3422,-210.2134"/>
<polygon fill="#000000" stroke="#000000" points="447.3079,-208.3501 439.2778,-201.4387 441.2453,-211.8493 447.3079,-208.3501"/>
<text text-anchor="middle" x="617.9331" y="-246.6313" font-family="Times,serif" font-size="14.00" fill="#000000">Find the callable function based on op_name (string)</text>
</g>
<!-- onnx8 -->
<g id="node10" class="node">
<title>onnx8</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="175" cy="-45.4156" rx="158.677" ry="29.3315"/>
<text text-anchor="middle" x="175" y="-49.6156" font-family="Times,serif" font-size="14.00" fill="#000000">_make.bias_add()&#13;</text>
<text text-anchor="middle" x="175" y="-32.8156" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;// Python Class registerd in C++</text>
</g>
<!-- onnx7&#45;&gt;onnx8 -->
<g id="edge9" class="edge">
<title>onnx7&#45;&gt;onnx8</title>
<path fill="none" stroke="#000000" d="M123.7132,-165.562C132.4763,-145.0333 147.0345,-110.9288 158.4059,-84.2896"/>
<polygon fill="#000000" stroke="#000000" points="161.7276,-85.4231 162.4346,-74.8519 155.2896,-82.6749 161.7276,-85.4231"/>
<text text-anchor="middle" x="165.0526" y="-116.0313" font-family="Times,serif" font-size="14.00" fill="#000000">invoke</text>
</g>
<!-- onnx10 -->
<g id="node12" class="node">
<title>onnx10</title>
<ellipse fill="#ffffff" stroke="#ffffff" cx="426" cy="-45.4156" rx="74.1039" ry="18"/>
<text text-anchor="middle" x="426" y="-41.2156" font-family="Times,serif" font-size="14.00" fill="#000000">_make.conv2d()</text>
</g>
<!-- onnx9&#45;&gt;onnx10 -->
<g id="edge12" class="edge">
<title>onnx9&#45;&gt;onnx10</title>
<path fill="none" stroke="#000000" d="M428.6078,-165.562C428.1002,-142.1773 427.2103,-101.1764 426.6131,-73.6611"/>
<polygon fill="#000000" stroke="#000000" points="430.1086,-73.411 426.3923,-63.4894 423.1102,-73.563 430.1086,-73.411"/>
</g>
</g>
</svg>
